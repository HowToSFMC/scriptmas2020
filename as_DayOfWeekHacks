%%[
SET @dayofWeekBegin = "Mon"
SET @Today = FormatDate(NOW(), "dddd")
SET @daysOfWeekString = "Sun|Mon|Tue|Wed|Thu|Fri|Sat"
SET @daysOfWeekRowset = BuildRowSetFromString(@daysOfWeekString, '|')

IF @Today == @dayofWeekBegin THEN
	SET @BeginDate = FormatDate(NOW(),'mm/dd/yyyy')
ELSEIF @Today == @dayofWeekEnd THEN
	SET @EndDate = FormatDate(NOW(),'mm/dd/yyyy')
ENDIF

FOR @i = 1 TO Rowcount(@daysOfWeekRowset) DO 
		SET @tempDay = Field(Row(@daysOfWeekRowset,@i),1)
	IF @dayOfWeekBegin == @tempDay THEN
		set @daySub = @i
	ENDIF
NEXT @i


FOR @a = 1 TO Rowcount(@daysOfWeekRowset) DO 
		SET @tempDay = Field(Row(@daysOfWeekRowset,@a),1)
	IF @Today == @tempDay THEN
		set @dateOffset = SUBTRACT(@a, @daySub)
	ENDIF
NEXT @a


IF @dateOffset != 0 THEN
	SET @dateOffsetBegin = SUBTRACT(@dateOffset, ADD(@dateOffset,@dateOffset))
	SET @dateOffsetEnd = SUBTRACT(6,@dateOffset)
ENDIF

IF EMPTY(@BeginDate) THEN
	SET @BeginDate = FormatDate(DateAdd(Now(),@dateOffsetBegin,'D'),'mm/dd/yyyy')
ENDIF

IF EMPTY(@EndDate) THEN
	SET @EndDate = FormatDate(DateAdd(Now(),@dateOffsetEnd,'D'),'mm/dd/yyyy')
ENDIF
]%%
Day of Week Begin %%=v(@dayofWeekBegin)=%%<br>
Today %%=v(@Today)=%%<br>
Day Sub %%=v(@daySub)=%%<br>
Date Offset %%=v(@dateOffset)=%%<br>
Date Offset Begin %%=v(@dateOffsetBegin)=%%<br>
Date Offset End %%=v(@dateOffsetEnd)=%%<br>
This is the beginning of the week: %%=v(@BeginDate)=%%<br>
This is the end of the week: %%=v(@EndDate)=%%<br>

